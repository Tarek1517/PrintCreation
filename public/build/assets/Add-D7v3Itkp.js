import{r as u,o as S,c as a,b as r,i as g,j,F as B,g as c,a as n,e as o,w as f,v as b,k as I,H as m,f as N}from"./app-BHs_qdqJ.js";import{S as R}from"./SummernoteEditor-BI4W7rFX.js";import{u as A}from"./useAxios-CvYkLGhC.js";import{i as D}from"./index-DF90ylPP.js";const F={class:"shadow-lg rounded-lg p-4 max-w-5xl mx-auto"},O={class:"flex items-center flex-wrap"},P={class:"w-1/2 pr-2"},T={class:"w-full"},E={class:"w-1/2 pl-2"},M={class:"w-full"},q={key:1,class:"text-primary"},H={class:"w-1/2 pr-2 pt-2"},$={class:"w-full"},z={class:"flex items-center my-10"},G={class:"w-1/3 pr-2"},J={class:"w-full"},K={class:"border border-common border-dashed p-4 rounded-2xl flex items-center justify-center w-full h-52 cursor-pointer"},Q=["src"],W={key:1,class:"flex flex-col items-center justify-center gap-2"},X={class:"w-2/3 pl-2"},Y={class:"w-full"},Z={for:"category-banner",class:"border border-common border-dashed p-4 rounded-2xl flex items-center justify-center w-full h-52 cursor-pointer"},ee=["src"],oe={key:1,class:"flex flex-col items-center justify-center gap-2"},te={class:"w-full mb-4"},le={class:"w-full"},se={class:"editor_data"},ce={__name:"Add",setup(ne){const{loading:_,error:ae,sendRequest:v}=A(),x=N(),p=u(null),w=async()=>{const t=await v({method:"get",url:"/v1/parent-category"});p.value=t==null?void 0:t.data},d=u(null),i=u(null),l=u({name:null,parent_id:null,icon:null,banner:null,order_number:null,short_description:null,description:null}),C=t=>{const e=t.target.files[0];l.value.banner=e,i.value=URL.createObjectURL(e)},h=t=>{const e=t.target.files[0];l.value.icon=e,d.value=URL.createObjectURL(e)},k=async()=>{var e;console.log(l.value);const t=await v({method:"post",url:"/v1/category",data:l.value,headers:{"Content-Type":"multipart/form-data"}});t!=null&&t.data&&(D.success(`${(e=t==null?void 0:t.data)==null?void 0:e.name} Category Addded Succesfully`,{autoclose:1e3}),await x.push("/category"))};return S(()=>{w()}),(t,e)=>{const V=c("Loading"),U=c("Select"),y=c("Icon"),L=c("AppLayout");return n(),a(B,null,[r(V,{value:g(_)},null,8,["value"]),r(L,null,{default:j(()=>[o("div",F,[e[14]||(e[14]=o("h3",{class:"mb-10"},"Create a New Category",-1)),o("div",null,[o("div",O,[o("div",P,[o("div",T,[e[5]||(e[5]=o("label",{for:"name",class:"text-sm block mb-2"},"Category Name",-1)),f(o("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.value.name=s),type:"text",class:"border border-primary rounded-md font-normal text-sm w-full"},null,512),[[b,l.value.name]])])]),o("div",E,[o("div",M,[e[6]||(e[6]=o("label",{for:"name",class:"text-sm block mb-2"},"Parent Category",-1)),p.value?(n(),I(U,{key:0,label:"name",options:p.value,reduce:s=>s.id,modelValue:l.value.parent_id,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.parent_id=s)},null,8,["options","reduce","modelValue"])):(n(),a("p",q,"Failed To load Parent Category..."))])]),o("div",H,[o("div",$,[e[7]||(e[7]=o("label",{for:"name",class:"text-sm block mb-2"},"Order Number",-1)),f(o("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.order_number=s),type:"number",class:"border border-primary rounded-md font-normal text-sm w-full"},null,512),[[b,l.value.order_number]])])])]),o("div",z,[o("div",G,[o("div",J,[e[9]||(e[9]=o("label",{for:"category-icon",class:"text-sm block mb-2"},"Category Image",-1)),o("label",K,[d.value?(n(),a("img",{key:0,src:d.value,class:"w-full h-full"},null,8,Q)):m("",!0),d.value?m("",!0):(n(),a("div",W,[r(y,{name:"tabler:cloud-upload",class:"text-common text-5xl opacity-85"}),e[8]||(e[8]=o("span",{class:"text-common font-semibold opacity-85"},"Upload Category Icon",-1))])),o("input",{id:"category-icon",onChange:h,type:"file",hidden:""},null,32)])])]),o("div",X,[o("div",Y,[e[11]||(e[11]=o("label",{for:"category-banner",class:"text-sm block mb-2"},"Category Banner",-1)),o("label",Z,[i.value?(n(),a("img",{key:0,src:i.value,class:"w-full h-full rounded-md"},null,8,ee)):m("",!0),i.value?m("",!0):(n(),a("div",oe,[r(y,{name:"tabler:cloud-upload",class:"text-common text-5xl opacity-85"}),e[10]||(e[10]=o("span",{class:"text-common font-semibold opacity-85"},"Upload Category Banner",-1))])),o("input",{id:"category-banner",onChange:C,type:"file",hidden:""},null,32)])])])]),o("div",te,[e[12]||(e[12]=o("label",{for:"short-description",class:"text-sm block mb-2"},"Short Description",-1)),f(o("textarea",{class:"p-2 w-full focus:outline-none focus:ring-0 focus:border-common rounded ring-0 bg-secondary border border-common shadow-md shadow-common/50 transition-all ease-in-out duration-100","onUpdate:modelValue":e[3]||(e[3]=s=>l.value.short_description=s)},null,512),[[b,l.value.short_description]])]),o("div",le,[e[13]||(e[13]=o("label",{for:"description",class:"text-sm block mb-2"},"Description",-1)),o("div",se,[r(g(R),{modelValue:l.value.description,"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.description=s)},null,8,["modelValue"])])])]),o("div",{class:"mt-5"},[o("button",{class:"bg-common py-2 px-10",onClick:k},"Save Category")])])]),_:1})],64)}}};export{ce as default};
