import{_ as L,r as d,o as T,c as f,b as o,i as F,e,B as h,F as V,h as B,j as u,g as x,a as c,t as b,k as q,H,w as r,G as v,v as g}from"./app-BHs_qdqJ.js";import{u as z}from"./useAxios-CvYkLGhC.js";import{_ as N}from"./Modal-C7JLu2cj.js";import{i as k}from"./index-DF90ylPP.js";const J={class:"bg-primary text-sm text-gray-300 font-normal border border-slate-600"},K={class:"p-4"},Q={class:"flex items-center justify-between"},W={class:"flex items-center gap-2"},X={class:"relative overflow-x-auto"},Y={class:"w-full text-left rtl:text-right"},Z={class:"hover:bg-secondary"},ee={class:"px-6 py-4"},te={class:"flex gap-2 max-w-xs"},le=["src"],se={class:"px-6 py-4"},ae={"class-":"max-w-xs"},oe={class:"px-6 py-4"},ne={class:"flex items-center gap-2 text-common"},re={class:"px-6 py-4"},de={class:"px-6 py-4"},ie={class:"flex items-center gap-2"},ue=["onClick"],ce={class:"flex flex-col gap-5 pt-5"},ve={class:"w-full"},pe={class:"flex items-start py-1"},me={class:"flex items-center justify-between w-full"},_e={class:"me-1 flex items-center gap-2"},fe=["src"],xe={class:"mb-25"},be={class:"w-full"},ge={class:"rating"},we={class:"star",for:"star5",title:"Awesome","aria-hidden":"true"},ye={class:"star",for:"star4",title:"Great","aria-hidden":"true"},he={class:"star",for:"star3",title:"Very good","aria-hidden":"true"},Ve={class:"star",for:"star2",title:"Good","aria-hidden":"true"},ke={class:"star",for:"star1",title:"Bad","aria-hidden":"true"},Re={class:"w-full"},Ue={class:"w-full"},Ae={class:"w-full"},Ce={class:"w-full"},Me={class:"flex flex-col gap-5 pt-5"},Se={class:"w-full"},Be={class:"w-full"},Ne={__name:"Review",setup(Oe){const{loading:O,error:Pe,sendRequest:i}=z(),R=d(null),w=d(null),P=async()=>{const a=await i({method:"get",url:"/v1/get-all-product-list"});a&&(w.value=a.data)},p=async()=>{const a=await i({method:"get",url:"/v1/review"});R.value=a==null?void 0:a.data},s=d({product_id:null,name:null,rating:null,review:null,title:null,answer:null}),$=async()=>{const a=await i({method:"post",url:"/v1/review",data:s.value});a!=null&&a.data&&(k.success("Review Addded Succesfully",{autoclose:5e3}),p(),_.value=!1)},m=d({id:null,product_id:null,author_name:null,rating:null,review:null,title:null}),j=async a=>{const t=await i({method:"post",url:`/v1/review/${a}`,params:{_method:"PUT"},data:m.value});t!=null&&t.data&&(k.success("Review Updated Succesfully",{autoclose:5e3}),p(),y.value=!1)},I=async a=>{await i({method:"delete",url:`/v1/review/${a}`}),p(),k.success("Review Deleted Succesfully",{autoClose:1e3})};T(()=>{p(),P()});const _=d(!1),y=d(!1),D=()=>{_.value=!0},U=()=>{_.value=!1,y.value=!1,s.value.author_name=null};return(a,t)=>{const E=x("Loading"),n=x("Icon"),G=x("Select"),A=x("Button");return c(),f(V,null,[o(E,{value:F(O)},null,8,["value"]),e("section",J,[e("div",K,[e("div",Q,[e("div",W,[o(n,{name:"simple-icons:nginxproxymanager",class:"text-lg"}),t[11]||(t[11]=e("h3",{class:"text-base font-me"},"Prodcut Review",-1))]),e("div",null,[e("button",{class:"border border-common py-2 px-4 flex items-center gap-2 text-common",onClick:D},[o(n,{name:"material-symbols:add-box-outline"}),t[12]||(t[12]=h(" Add Review "))])])])]),e("div",null,[e("div",X,[e("table",Y,[t[14]||(t[14]=e("thead",{class:"uppercase bg-secondary"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Product "),e("th",{scope:"col",class:"px-6 py-3"}," Review "),e("th",{scope:"col",class:"px-6 py-3"}," Rating "),e("th",{scope:"col",class:"px-6 py-3"}," Name "),e("th",{scope:"col",class:"px-6 py-3"}," Action ")])],-1)),e("tbody",null,[(c(!0),f(V,null,B(R.value,l=>{var C,M;return c(),f("tr",Z,[e("td",ee,[e("div",te,[e("img",{src:(C=l==null?void 0:l.product)==null?void 0:C.cover_image,class:"w-12 rounded h-auto"},null,8,le),e("h3",null,b((M=l==null?void 0:l.product)==null?void 0:M.title),1)])]),e("td",se,[e("div",ae,b(l==null?void 0:l.review),1)]),e("td",oe,[e("span",ne,[(c(),f(V,null,B(5,S=>o(n,{class:"text-xl",name:l.rating<S?"carbon:star":"carbon:star-filled"},null,8,["name"])),64))])]),e("td",re,b(l==null?void 0:l.author_name),1),e("td",de,[e("div",ie,[t[13]||(t[13]=e("div",null,null,-1)),e("button",{onClick:S=>I(l==null?void 0:l.id),class:"w-8 h-8 rounded-md flex items-center justify-center bg-red-500 border border-red-900"},[o(n,{name:"material-symbols:delete-outline",class:"text-lg text-white"})],8,ue)])])])}),256))])])])])]),o(N,{title:"Add New Attribute",isOpen:_.value,onModalClose:U},{default:u(()=>[e("div",ce,[e("div",ve,[t[15]||(t[15]=e("label",{for:"name",class:"block text-sm mb-1"},"Select Product",-1)),w.value?(c(),q(G,{key:0,label:"title",options:w.value,reduce:l=>l.id,searchable:!0,modelValue:s.value.product_id,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.product_id=l),placeholder:"Select Product"},{option:u(l=>[e("li",pe,[e("div",me,[e("div",_e,[e("img",{src:l==null?void 0:l.cover_image,class:"w-12 h-12"},null,8,fe),e("h6",xe,b(l==null?void 0:l.title),1)])])])]),_:1},8,["options","reduce","modelValue"])):H("",!0)]),e("div",be,[t[16]||(t[16]=e("label",{for:"rating",class:"block text-sm mb-1"},"Rating",-1)),e("div",ge,[r(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.rating=l),type:"radio",id:"star5",name:"rating",value:"5"},null,512),[[v,s.value.rating]]),e("label",we,[o(n,{name:"carbon:star"})]),r(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s.value.rating=l),type:"radio",id:"star4",name:"rating",value:"4"},null,512),[[v,s.value.rating]]),e("label",ye,[o(n,{name:"carbon:star"})]),r(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>s.value.rating=l),type:"radio",id:"star3",name:"rating",value:"3"},null,512),[[v,s.value.rating]]),e("label",he,[o(n,{name:"carbon:star"})]),r(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>s.value.rating=l),type:"radio",id:"star2",name:"rating",value:"2"},null,512),[[v,s.value.rating]]),e("label",Ve,[o(n,{name:"carbon:star"})]),r(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>s.value.rating=l),type:"radio",id:"star1",name:"rating",value:"1"},null,512),[[v,s.value.rating]]),e("label",ke,[o(n,{name:"carbon:star"})])])]),e("div",Re,[t[17]||(t[17]=e("label",{for:"review",class:"block text-sm mb-1"},"Review Message",-1)),r(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=l=>s.value.review=l),class:"w-full h-20 rounded border border-gray-600 bg-transparent text-gray-300"},null,512),[[g,s.value.review]])]),e("div",Ue,[t[18]||(t[18]=e("label",{for:"author_name",class:"text-sm block mb-1"},"Author Name",-1)),r(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>s.value.author_name=l),type:"text",class:"w-full"},null,512),[[g,s.value.author_name]])]),e("div",Ae,[t[19]||(t[19]=e("label",{for:"author_name",class:"text-sm block mb-1"},"Answer",-1)),r(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>s.value.answer=l),type:"text",class:"w-full"},null,512),[[g,s.value.answer]])]),e("div",Ce,[o(A,{onClick:$},{default:u(()=>t[20]||(t[20]=[h("Save Variations")])),_:1})])])]),_:1},8,["isOpen"]),o(N,{title:"Edit Attribute",isOpen:y.value,onModalClose:U},{default:u(()=>[e("div",Me,[e("div",Se,[t[21]||(t[21]=e("label",{for:"name",class:"block text-sm mb-1"},"Variation Name",-1)),r(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>m.value.name=l),type:"text",class:"p-2 border border-primary rounded-md w-full"},null,512),[[g,m.value.name]])]),e("div",Be,[o(A,{onClick:t[10]||(t[10]=l=>j(m.value.id))},{default:u(()=>t[22]||(t[22]=[h("Update Variation")])),_:1})])])]),_:1},8,["isOpen"])],64)}}},Ee=L(Ne,[["__scopeId","data-v-cc7e6d53"]]);export{Ee as default};
