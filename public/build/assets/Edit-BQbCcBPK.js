import{r as i,o as x,c as b,b as l,i as r,j as m,F as y,g as d,a as P,e as t,w as V,v as B,B as C,f as k,J as N}from"./app-BHs_qdqJ.js";import{S as U}from"./SummernoteEditor-BI4W7rFX.js";import{u as A}from"./useAxios-CvYkLGhC.js";import{i as L}from"./index-DF90ylPP.js";const T={class:"flex justify-center"},E={class:"w-full pr-1"},R={class:"p-4 shadow-lg rounded-lg"},S={class:"mb-5"},$={class:"editor_data"},j={class:"mt-5"},z={__name:"Edit",setup(F){const{error:M,loading:p,sendRequest:u}=A(),c=k(),n=N();i(null);const v=async()=>{var e;const s=await u({method:"get",url:`/v1/page/${(e=n==null?void 0:n.params)==null?void 0:e.id}`});s&&(o.value.id=s.data.id,o.value.title=s.data.title,o.value.content=s.data.content)},o=i({id:null,title:null,content:""}),f=async s=>{await u({method:"post",url:`/v1/page/${s}`,params:{_method:"PUT"},data:o.value})&&(L.success("New Page Addded Successfully",{autoClose:1e3}),c.push("/pages"))};return x(()=>{v()}),(s,e)=>{const g=d("Loading"),_=d("Button"),w=d("AppLayout");return P(),b(y,null,[l(g,{value:r(p)},null,8,["value"]),l(w,null,{default:m(()=>[t("div",T,[t("div",E,[t("div",R,[e[6]||(e[6]=t("h3",null,"Create New Page",-1)),t("div",S,[e[3]||(e[3]=t("label",{for:"title",class:"mb-1 block text-sm"},"Page Title",-1)),V(t("input",{id:"title",type:"text",class:"p-2 rounded-md border w-full","onUpdate:modelValue":e[0]||(e[0]=a=>o.value.title=a)},null,512),[[B,o.value.title]])]),t("div",null,[e[4]||(e[4]=t("label",{for:"summery",class:"mb-1 block text-sm"},"Page Content",-1)),t("div",$,[l(r(U),{modelValue:o.value.content,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.content=a)},null,8,["modelValue"])])]),t("div",j,[l(_,{onClick:e[2]||(e[2]=a=>f(o.value.id))},{default:m(()=>e[5]||(e[5]=[C("Update Page")])),_:1})])])])])]),_:1})],64)}}};export{z as default};
