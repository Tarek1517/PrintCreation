import{r as c,o as C,c as d,b as l,i as v,j as _,F as R,g as i,a as u,e as t,w as x,v as g,H as m,B as N,f as I,J as S}from"./app-BHs_qdqJ.js";import{S as T}from"./SummernoteEditor-BI4W7rFX.js";import{u as A}from"./useAxios-CvYkLGhC.js";import{i as E}from"./index-DF90ylPP.js";const O={class:"bg-primary shadow-md p-6 max-w-5xl mx-auto text-gray-300"},$={class:"flex flex-wrap items-center"},D={class:"w-1/2 pr-2"},F={class:"w-full"},M={class:"w-1/2 pr-2"},q={class:"w-full"},H={class:"flex items-center my-10"},J={class:"w-1/3 pr-2"},P={class:"w-full"},z={class:"border border-common border-dashed p-4 rounded-2xl flex items-center justify-center w-full h-52 cursor-pointer",for:"brand-image"},G=["src"],K={key:1,class:"flex flex-col items-center justify-center gap-2"},Q={class:"w-2/3 pl-2"},W={class:"w-full"},X={for:"brand-banner",class:"border border-common border-dashed p-4 rounded-2xl flex items-center justify-center w-full h-52 cursor-pointer"},Y=["src"],Z={key:1,class:"flex flex-col items-center justify-center gap-2"},ee={class:"w-full"},te={class:"editor_data"},oe={class:"mt-5"},ue={__name:"Edit",setup(ae){const{loading:y,error:le,sendRequest:p}=A(),w=I(),b=S(),s=c(null),n=c(null),B=async()=>{const o=await p({method:"get",url:`/v1/brand/${b.params.id}`});o!=null&&o.data&&(a.value.name=o.data.name,a.value.order_number=o.data.order_number,a.value.description=o.data.description,s.value=o.data.logo,n.value=o.data.banner)},a=c({name:null,logo:null,banner:null,status:1,order_number:null,description:null}),h=o=>{const e=o.target.files[0];a.value.banner=e,n.value=URL.createObjectURL(e)},k=o=>{const e=o.target.files[0];a.value.logo=e,s.value=URL.createObjectURL(e)},U=async()=>{var e;console.log(a.value);const o=await p({method:"post",url:`/v1/brand/${b.params.id}`,data:a.value,params:{_method:"PUT"},headers:{"Content-Type":"multipart/form-data"}});o!=null&&o.data&&(E.success(`${(e=o==null?void 0:o.data)==null?void 0:e.name} Brand Updated Succesfully`,{autoclose:1e3}),await w.push("/brand"))};return C(async()=>{await B()}),(o,e)=>{const L=i("Loading"),f=i("Icon"),V=i("Button"),j=i("AppLayout");return u(),d(R,null,[l(L,{value:v(y)},null,8,["value"]),l(j,null,{default:_(()=>[t("div",O,[e[11]||(e[11]=t("h3",{class:"mb-10"},"Update Brand",-1)),t("div",null,[t("div",$,[t("div",D,[t("div",F,[e[3]||(e[3]=t("label",{for:"name",class:"text-sm block mb-2"},"Brand Name",-1)),x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.name=r),type:"text",class:"border border-primary rounded-md font-normal text-sm w-full"},null,512),[[g,a.value.name]])])]),t("div",M,[t("div",q,[e[4]||(e[4]=t("label",{for:"name",class:"text-sm block mb-2"},"Order Number",-1)),x(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.order_number=r),type:"number",class:"border border-primary rounded-md font-normal text-sm w-full"},null,512),[[g,a.value.order_number]])])])]),t("div",H,[t("div",J,[t("div",P,[e[6]||(e[6]=t("label",{for:"brand-image",class:"text-sm block mb-2"},"Brand Image",-1)),t("label",z,[s.value?(u(),d("img",{key:0,src:s.value,class:"w-full h-full"},null,8,G)):m("",!0),s.value?m("",!0):(u(),d("div",K,[l(f,{name:"tabler:cloud-upload",class:"text-common text-5xl opacity-85"}),e[5]||(e[5]=t("span",{class:"text-common font-semibold opacity-85"},"Upload Brand Logo",-1))])),t("input",{id:"brand-image",onChange:k,type:"file",hidden:""},null,32)])])]),t("div",Q,[t("div",W,[e[8]||(e[8]=t("label",{for:"brand-banner",class:"text-sm block mb-2"},"Brand Banner",-1)),t("label",X,[n.value?(u(),d("img",{key:0,src:n.value,class:"w-full h-full rounded-md"},null,8,Y)):m("",!0),n.value?m("",!0):(u(),d("div",Z,[l(f,{name:"tabler:cloud-upload",class:"text-common text-5xl opacity-85"}),e[7]||(e[7]=t("span",{class:"text-common font-semibold opacity-85"},"Upload Brand Banner",-1))])),t("input",{id:"brand-banner",onChange:h,type:"file",hidden:""},null,32)])])])]),t("div",ee,[e[9]||(e[9]=t("label",{for:"description",class:"text-sm block mb-2"},"Description",-1)),t("div",te,[l(v(T),{modelValue:a.value.description,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.description=r)},null,8,["modelValue"])])])]),t("div",oe,[l(V,{onClick:U},{default:_(()=>e[10]||(e[10]=[N("Save Brand")])),_:1})])])]),_:1})],64)}}};export{ue as default};
