import{Y as c,r as a,u as i,f as d}from"./app-BHs_qdqJ.js";import{i as m}from"./index-DF90ylPP.js";const n=c.create({baseURL:"http://localhost:8000/api",withCredentials:!0,xsrfHeaderName:"X-XSRF-TOKEN"});function v(){const r=a(!1),s=a(null),u=i();return d(),{loading:r,error:s,sendRequest:async t=>{r.value=!0,s.value=null;const{method:l="GET"}=t;t.method=l.toUpperCase();const o=u.getToken();o&&(n.defaults.headers.common.Authorization=`Bearer ${o}`);try{return await n(t)}catch(e){throw s.value=e.response?e.response.data:e.message,m.error(s.value.message||"An error occurred",{autoClose:2e3,theme:"dark"}),e}finally{r.value=!1}}}}export{v as u};
