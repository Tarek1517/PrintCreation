import{r as i,D as h,o as O,c as r,b as d,i as w,e,w as a,E as k,G as V,H as b,v as c,k as $,j as J,F as U,h as S,I as K,g as C,a as n,t as q,f as H}from"./app-BHs_qdqJ.js";import{S as I}from"./SummernoteEditor-BI4W7rFX.js";import{u as W}from"./useAxios-CvYkLGhC.js";import{i as z}from"./index-DF90ylPP.js";const Q={class:"p-4 shadow-lg rounded-lg"},X={class:"flex flex-wrap"},Y={class:"w-1/2 flex flex-col gap-3 px-2"},Z={class:"flex flex-wrap"},ee={class:"w-1/3 px-2"},te={for:"Status",class:"flex items-center gap-2 pt-3 cursor-pointer"},le={class:"w-4 h-4 border border-gray-600 peer-checked:bg-common peer-checked:border-common flex items-center justify-center text-white"},se={class:"w-1/3 px-2"},oe={for:"Attachment",class:"flex items-center gap-2 pt-3 cursor-pointer"},ae={class:"w-4 h-4 border border-gray-600 peer-checked:bg-common peer-checked:border-common flex items-center justify-center text-white"},ne={class:"w-1/3 px-2"},re={for:"Variant",class:"flex items-center gap-2 pt-3 cursor-pointer"},de={class:"w-4 h-4 border border-gray-600 peer-checked:bg-common peer-checked:border-common flex items-center justify-center text-white"},ie={key:0,class:"w-full mt-5 px-2"},ue={class:"flex items-center"},ce={class:"w-full px-2"},me={class:"w-full flex flex-wrap"},pe={class:"w-1/3 px-2"},be={class:"w-1/3 px-2"},ve={key:0,class:"w-1/3 px-2"},fe={class:"w-full flex items-center space-x-5 px-2"},xe={class:"w-1/2"},ge={class:"flex items-start py-1"},_e={class:"flex items-center justify-between w-full"},ye={class:"me-1 flex items-center gap-2"},he=["src"],we={class:"mb-25"},ke={class:"w-full px-2"},Ve={class:"w-full px-2"},Ue={class:"flex items-end flex-wrap -mt-4"},Ce={class:"w-4/5 pr-4 mt-4 flex items-center"},Se=["onUpdate:modelValue"],Ie=["onClick"],Pe={class:"w-1/2 flex flex-col gap-4 px-2"},je={class:"flex"},Ae={class:"pr-2"},Le={for:"cover_image",class:"w-52 h-36 flex items-center bg-secondary justify-center gap-3 p-2 border border-dashed border-common rounded-md text-common cursor-pointer"},Re=["src"],Be={key:1},Me={class:"w-full"},Ne={class:"p-2 bg-secondary border border-common rounded-lg"},Te={class:"file-upload-container"},De={class:"file-upload-container-wrapper"},Ee=["src"],Fe=["onClick"],Ge={class:"file-upload-container-wrapper__add"},Oe={for:"mu-file-input",class:"file-upload-container__add-btn"},$e={class:"w-full px-2 mb-5"},Je={class:"editor_data bg-gray-100"},Ke={class:"w-full px-2"},qe={class:"editor_data bg-gray-100"},Ze={__name:"Add",setup(He){const{loading:P,error:We,sendRequest:v}=W(),j=H(),f=i(null),A=i(null),L=async()=>{const o=await v({method:"get",url:"/v1/get-all-category-list"});f.value=o==null?void 0:o.data},R=async()=>{const o=await v({method:"get",url:"/v1/get-all-brand-list"});A.value=o==null?void 0:o.data},x=i(null),B=o=>{const t=o.target.files[0];s.value.cover_image=t,x.value=URL.createObjectURL(t)};i(null);const M=o=>{for(let t=0;t<o.target.files.length;t++)s.value.images.push({url:URL.createObjectURL(o.target.files[t]),file:o.target.files[t]})},N=o=>{let t=s.value.images[o];t.url.startsWith("blob:")&&URL.revokeObjectURL(t.url),s.value.images.splice(o,1)},m=i(!1),g=i(!0),p=i(!1),s=i({title:null,price:null,category_id:null,brand_id:null,video_url:null,discount_price:null,stock:5,cover_image:null,hover_image:null,product_info:null,specification:null,status:h(()=>g.value?1:0),is_variant:h(()=>m.value?1:0),attachment:h(()=>p.value?1:0),attachment_type:null,images:[],key_features:[{name:null}]}),T=()=>{s.value.key_features.push({name:null})},D=o=>s.value.key_features.splice(o,1),E=async()=>{var t;const o=await v({method:"post",url:"/v1/product",data:s.value,headers:{"Content-Type":"multipart/form-data"}});o!=null&&o.data&&(z.success(`${(t=o==null?void 0:o.data)==null?void 0:t.name} Product Addded Succesfully`,{autoclose:1e3}),await j.push("/products"))};return O(()=>{L(),R()}),(o,t)=>{const F=C("Loading"),u=C("Icon"),G=C("Select");return n(),r(U,null,[d(F,{value:w(P)},null,8,["value"]),e("div",Q,[t[33]||(t[33]=e("h3",{class:"text-sm mb-5"},"Add New Product",-1)),e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("label",te,[a(e("input",{id:"Status",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=l=>g.value=l),class:"peer hidden"},null,512),[[k,g.value]]),e("span",le,[d(u,{name:"material-symbols-light:check-rounded"})]),t[14]||(t[14]=e("span",{class:"text-sm block"},"Status",-1))])]),e("div",se,[e("label",oe,[a(e("input",{id:"Attachment",type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=l=>p.value=l),class:"peer hidden"},null,512),[[k,p.value]]),e("span",ae,[d(u,{name:"material-symbols-light:check-rounded"})]),t[15]||(t[15]=e("span",{class:"text-sm block"},"Attachment",-1))])]),e("div",ne,[e("label",re,[a(e("input",{id:"Variant",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=l=>m.value=l),class:"peer hidden"},null,512),[[k,m.value]]),e("span",de,[d(u,{name:"material-symbols-light:check-rounded"})]),t[16]||(t[16]=e("span",{class:"text-sm block"},"Variant",-1))])]),p.value?(n(),r("div",ie,[t[20]||(t[20]=e("label",{class:"block mb-2"},"Attachment Type",-1)),e("ul",ue,[e("li",null,[a(e("input",{type:"radio",id:"text",name:"attachment-type",class:"peer hidden",value:"text","onUpdate:modelValue":t[3]||(t[3]=l=>s.value.attachment_type=l)},null,512),[[V,s.value.attachment_type]]),t[17]||(t[17]=e("label",{for:"text",class:"p-2 cursor-pointer border border-r-0 border-gray-500 block peer-checked:bg-common w-40 text-center"},"Text",-1))]),e("li",null,[a(e("input",{type:"radio",id:"image",name:"attachment-type",class:"peer hidden",value:"image","onUpdate:modelValue":t[4]||(t[4]=l=>s.value.attachment_type=l)},null,512),[[V,s.value.attachment_type]]),t[18]||(t[18]=e("label",{for:"image",class:"p-2 cursor-pointer border border-gray-500 block peer-checked:bg-common w-40 text-center"},"Image",-1))]),e("li",null,[a(e("input",{type:"radio",id:"both",name:"attachment-type",class:"peer hidden",value:"both","onUpdate:modelValue":t[5]||(t[5]=l=>s.value.attachment_type=l)},null,512),[[V,s.value.attachment_type]]),t[19]||(t[19]=e("label",{for:"both",class:"p-2 cursor-pointer border border-l-0 border-gray-500 block peer-checked:bg-common w-40 text-center"},"Both Text & Image",-1))])])])):b("",!0)]),e("div",ce,[t[21]||(t[21]=e("label",{for:"title",class:"text-xs mb-1"},"Product Title",-1)),a(e("input",{type:"text",class:"p-2 bg-secondary border border-common w-full rounded","onUpdate:modelValue":t[6]||(t[6]=l=>s.value.title=l)},null,512),[[c,s.value.title]])]),e("div",me,[e("div",pe,[t[22]||(t[22]=e("label",{for:"price",class:"text-xs mb-1"},"Price",-1)),a(e("input",{type:"number",class:"p-2 bg-secondary border border-common w-full rounded","onUpdate:modelValue":t[7]||(t[7]=l=>s.value.price=l)},null,512),[[c,s.value.price]])]),e("div",be,[t[23]||(t[23]=e("label",{for:"discount",class:"text-xs mb-1"},"Discount Price",-1)),a(e("input",{type:"number",class:"border border-primary p-2 rounded-md w-full","onUpdate:modelValue":t[8]||(t[8]=l=>s.value.discount_price=l)},null,512),[[c,s.value.discount_price]])]),m.value?b("",!0):(n(),r("div",ve,[t[24]||(t[24]=e("label",{for:"discount",class:"text-xs mb-1"},"Stock",-1)),a(e("input",{type:"number",class:"border border-primary p-2 rounded-md w-full","onUpdate:modelValue":t[9]||(t[9]=l=>s.value.stock=l)},null,512),[[c,s.value.stock]])]))]),e("div",fe,[e("div",xe,[t[25]||(t[25]=e("label",{for:"category",class:"text-xs mb-1"},"Category",-1)),f.value?(n(),$(G,{key:0,label:"name",options:f.value,reduce:l=>l.id,searchable:!0,modelValue:s.value.category_id,"onUpdate:modelValue":t[10]||(t[10]=l=>s.value.category_id=l),placeholder:"Set Category"},{option:J(l=>[e("li",ge,[e("div",_e,[e("div",ye,[e("img",{src:l==null?void 0:l.icon,class:"w-12 h-12"},null,8,he),e("h6",we,q(l==null?void 0:l.name),1)])])])]),_:1},8,["options","reduce","modelValue"])):b("",!0)])]),e("div",ke,[t[26]||(t[26]=e("label",{for:"title",class:"text-xs mb-1"},"Video Url (Optional)",-1)),a(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=l=>s.value.video_url=l),type:"text",class:"p-2 w-full focus:outline-none focus:ring-0 focus:border-common rounded ring-0 bg-secondary border border-common shadow-md shadow-common/50 transition-all ease-in-out duration-100"},null,512),[[c,s.value.video_url]])]),e("div",Ve,[t[27]||(t[27]=e("label",{for:"key-features",class:"text-xs mb-1 block"},"Key Features",-1)),e("div",Ue,[(n(!0),r(U,null,S(s.value.key_features,(l,_)=>(n(),r("div",Ce,[a(e("input",{type:"text",class:"border rounded-md p-2 w-full","onUpdate:modelValue":y=>l.name=y},null,8,Se),[[c,l.name]]),s.value.key_features.length>1?(n(),r("button",{key:0,onClick:y=>D(_),class:"bg-slate-100 rounded w-8 h-8 flex items-center justify-center -ml-[36px] shadow"},[d(u,{name:"material-symbols:close-rounded",class:"text-common text-2xl"})],8,Ie)):b("",!0)]))),256)),e("button",{class:"w-1/5 text-xs bg-common rounded-md py-3 px-4 text-nowrap",onClick:T}," Add More ")])])]),e("div",Pe,[e("div",je,[e("div",Ae,[t[29]||(t[29]=e("label",{for:"image",class:"text-xs block mb-1"},"Cover Image",-1)),e("label",Le,[e("input",{type:"file",id:"cover_image",hidden:"",onChange:B},null,32),x.value?(n(),r("img",{key:0,src:x.value,class:"w-full h-full object-cover"},null,8,Re)):(n(),r("div",Be,t[28]||(t[28]=[e("p",{class:"text-xs"},"Upload Product Cover Image",-1)])))])])]),e("div",Me,[e("div",Ne,[t[30]||(t[30]=K('<h4 class="mb-3 text-sm">Product Images</h4><ul class="mb-2"><li class="text-xs">999 KB limit.</li><li class="text-xs"> Allowed types: <span class="text-common"> JPG</span>, <span class="text-common">JPEG</span>, <span class="text-common">PNG</span>. </li></ul>',2)),e("div",Te,[e("div",De,[(n(!0),r(U,null,S(s.value.images,(l,_)=>(n(),r("div",{class:"file-upload-container-wrapper__preview",key:l.index},[e("img",{src:l.url,class:"file-upload-container-wrapper__preview-item"},null,8,Ee),e("button",{onClick:y=>N(_),class:"file-upload-container-wrapper__preview-cancel",type:"button"},[d(u,{name:"material-symbols:close",class:"text-common"})],8,Fe)]))),128)),e("div",Ge,[e("label",Oe,[e("span",null,[d(u,{name:"tabler:cloud-upload"})])]),e("input",{onChange:M,id:"mu-file-input",type:"file",accept:"image/*",multiple:"",hidden:""},null,32)])])])])])]),e("div",$e,[t[31]||(t[31]=e("label",{for:"title",class:"text-sm mb-1"},"Product Info",-1)),e("div",Je,[d(w(I),{modelValue:s.value.product_info,"onUpdate:modelValue":t[12]||(t[12]=l=>s.value.product_info=l)},null,8,["modelValue"])])]),e("div",Ke,[t[32]||(t[32]=e("label",{for:"title",class:"text-sm mb-1"},"Specifications",-1)),e("div",qe,[d(w(I),{modelValue:s.value.specification,"onUpdate:modelValue":t[13]||(t[13]=l=>s.value.specification=l)},null,8,["modelValue"])])])])]),e("div",{class:"text-center pt-10"},[e("button",{class:"w-1/2 mx-auto bg-common py-2",onClick:E}," Save Product ")])],64)}}};export{Ze as default};
