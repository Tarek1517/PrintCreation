import{r,o as T,c as N,b as m,j as n,F as j,g as d,a as b,e as s,w as p,v as f,k as _,t as g,H as x,B as L,f as P,J as A}from"./app-BHs_qdqJ.js";import{u as H}from"./useAxios-CvYkLGhC.js";import{i as R}from"./index-DF90ylPP.js";const D={class:"p-4 shadow-lg rounded-lg flex flex-col gap-5 w-full max-w-3xl mx-auto"},E={class:"w-full"},F={class:"w-full"},M={class:"w-full"},$={class:"w-full"},q={class:"flex items-start py-1"},I={class:"flex items-center justify-between w-full"},J={class:"me-1 flex items-center gap-2"},O=["src"],z={class:"mb-25"},G={class:"w-full"},K={class:"flex items-start py-1"},Q={class:"flex items-center justify-between w-full"},W={class:"me-1 flex items-center gap-2"},X=["src"],Y={class:"mb-25"},Z={class:"w-full"},ue={__name:"Edit",setup(ee){const w=P(),a=A(),{loadin:te,error:se,sendRequest:u}=H(),y=async()=>{var e;const o=await u({method:"get",url:`/v1/home-section/${(e=a==null?void 0:a.params)==null?void 0:e.id}`});o&&(l.value.title=o.data.title,l.value.sub_title=o.data.sub_title,l.value.categories=o.data.categories,l.value.products=o.data.products,l.value.order_number=o.data.order_number,V.value=o.data.banner)},i=r(null),h=async()=>{const o=await u({method:"get",url:"/v1/get-all-product-list"});i.value=o.data},c=r(null),S=async()=>{const o=await u({method:"get",url:"/v1/get-all-category-list"});c.value=o.data},V=r(null),l=r({title:null,sub_title:null,banner:null,categories:[],products:[],order_number:null}),k=async()=>{await u({url:`/v1/home-section/${a.params.id}`,method:"post",data:l.value,params:{_method:"PUT"},headers:{"Content-Type":"multipart/form-data"}})&&(R.success("Home Section Updated Successfully"),w.push("/home-sections"))};return T(()=>{y(),h(),S()}),(o,e)=>{const C=d("Loading"),v=d("Select"),B=d("Button"),U=d("AppLayout");return b(),N(j,null,[m(C,{value:o.loading},null,8,["value"]),m(U,null,{default:n(()=>[s("div",D,[e[11]||(e[11]=s("h3",null,"Create Home Section",-1)),s("div",E,[e[5]||(e[5]=s("label",{for:"title",class:"text-xs mb-1 block"},"Title",-1)),p(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.title=t),type:"text",class:"rounded-md border p-2 w-full"},null,512),[[f,l.value.title]])]),s("div",F,[e[6]||(e[6]=s("label",{for:"sub_title",class:"text-xs mb-1 block"},"Sub Title",-1)),p(s("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.sub_title=t),class:"p-2 w-full focus:outline-none focus:ring-0 focus:border-common rounded ring-0 bg-secondary border border-common focus:shadow-md focus:shadow-common/50 transition-all ease-in-out duration-100"},null,512),[[f,l.value.sub_title]])]),s("div",M,[e[7]||(e[7]=s("label",{for:"order_number",class:"text-xs mb-1 block"},"Order Number",-1)),p(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.order_number=t),type:"text",class:"rounded-md border p-2 w-full"},null,512),[[f,l.value.order_number]])]),s("div",$,[e[8]||(e[8]=s("label",{for:"title",class:"text-xs mb-1 block"},"Categories",-1)),c.value?(b(),_(v,{key:0,label:"name",options:c.value,reduce:t=>t.id,searchable:!0,modelValue:l.value.categories,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.categories=t),placeholder:"Select Categories...",multiple:""},{option:n(t=>[s("li",q,[s("div",I,[s("div",J,[s("img",{src:t==null?void 0:t.icon,class:"w-12 h-12"},null,8,O),s("h6",z,g(t==null?void 0:t.name),1)])])])]),_:1},8,["options","reduce","modelValue"])):x("",!0)]),s("div",G,[e[9]||(e[9]=s("label",{for:"title",class:"text-xs mb-1 block"},"Products",-1)),i.value?(b(),_(v,{key:0,label:"title",options:i.value,reduce:t=>t.id,searchable:!0,modelValue:l.value.products,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.products=t),placeholder:"Select Products...",multiple:""},{option:n(t=>[s("li",K,[s("div",Q,[s("div",W,[s("img",{src:t==null?void 0:t.cover_image,class:"w-16 h-16 object-cover"},null,8,X),s("h6",Y,g(t==null?void 0:t.title),1)])])])]),_:1},8,["options","reduce","modelValue"])):x("",!0)]),s("div",Z,[m(B,{class:"w-full rounded-md",onClick:k},{default:n(()=>e[10]||(e[10]=[L("Save Section")])),_:1})])])]),_:1})],64)}}};export{ue as default};
